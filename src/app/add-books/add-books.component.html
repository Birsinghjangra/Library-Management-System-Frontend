<section class="content-header">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-6">
                <h1>Add Books</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="/admin/dashboard">Home</a></li>
                    <li class="breadcrumb-item active">Add Books</li>
                </ol>
            </div>
        </div>
    </div>
</section>

<div class="container" style="width: 100%;">
    <div class="card" style="width: 100%;">
        <div class="card-header">
            <a href="" class="btn btn-sm btn-dark"><i class="fas fa-plus-circle mr-1"></i>Add New Book</a>
        </div>
        <div class="card-body">
            <form id="saveBook" wire:submit.prevent="saveBook" onkeydown="return event.key != 'Enter';">
                <input type="hidden" name="_token" value="lxLRGbuIsVQ1TnUbzA1B8Jva6p3e4EQHQjNbcLft">
                <input type="hidden" value="" id="book_id">
                <input type="hidden" value="create" id="mode">
        
                <div class="row">
                    <!-- Left Column -->
                    <div class="col-md-3 col-12 mb-10" style="background-color: #e9ecef;padding-top: 2%;">
                        <div class="image_holder pb-3">
                            <img src="https://via.placeholder.com/250X300" class="img-thumbnail">
                            <div class="mt-2">
                                <div class="input-group">
                                    <div class="input-group-prepend ">
                                        <span class="input-group-text ">Upload Cover Image<i class="fas fa-info-circle ml-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="Upload image if required to overwrite the default cover image provided by the google."></i>
                                        </span>
                                    </div>
                                    <div>
                                        <input type="file" wire:model="custom_img" class="form-control text-xs" accept=".jpeg,.png,.jpg">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        
                    <!-- Right Column -->
                    <div class="col-md-9 col-12 mb-10">
                        <div class="row">
                            <div class="col-12">
                                <div class="flash-message">
                                </div>
                            </div>
                        </div>
        
                        <div class="row">
                            <!-- ISBN and Search Button -->
                            <div class="form-group col-md-6 col-12">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">ISBN
                                            <i class="fas fa-info-circle ml-2" data-toggle="tooltip" data-placement="top" title="Its 10/13 digit nos which you can find behind a book."></i>
                                        </span>
                                    </div>
                                    <input type="text" wire:model.lazy="isbn" class="form-control">
                                    <div class="input-group-append">
                                        <button class="btn btn-dark" data-toggle="tooltip" data-placement="top" type="button" wire:loading.class="disabled" wire:click="searchBookInfo()" title="Search Book Details">
                                            <i class="fab fa-searchengin"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
        
                            <!-- Category Dropdown -->
                            <div class="form-group col-md-6 col-12">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Category</span>
                                    </div>
                                    <select wire:ignore="" wire:model="sel_cat" class="form-control">
                                        <!-- Options -->
                                    </select>
                                </div>
                            </div>
        
                            <!-- Book Title -->
                            <div class="form-group col-md-12 col-12">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Book Title<span class="text-danger ml-2">*</span></span>
                                    </div>
                                    <input type="text" wire:model.defer="title" required="" class="form-control">
                                </div>
                            </div>
        
                            <!-- Authors Dropdown -->
                            <div class="form-group col-md-6 col-12">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Authors</span>
                                    </div>
                                    <select wire:ignore="" wire:model="sel_cat" class="form-control">
                                        <!-- Options -->
                                    </select>
                                </div>
                            </div>
        
                            <!-- Publishers Dropdown -->
                            <div class="form-group col-md-6 col-12">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Publishers</span>
                                    </div>
                                    <select wire:ignore="" wire:model="sel_cat" class="form-control">
                                        <!-- Options -->
                                    </select>
                                </div>
                            </div>
        
                            <!-- Upload PDF -->
                            <div class="form-group col-12">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Upload Pdf
                                            <i class="fas fa-info-circle ml-2" data-toggle="tooltip" data-placement="top" title="Upload pdf file. If you like to overwrite the default preview link supplied by the google."></i>
                                        </span>
                                    </div>
                                    <input type="file" wire:model.defer="custom_file" accept=".pdf" class="form-control text-xs">
                                    <div class="input-group-append">
                                        <button type="button" wire:click="clearCustomUploadControl()" class="btn btn-dark">
                                            <i class="far fa-trash-alt"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
        
                            <!-- Sub Books Card -->
                            <div class="card card-dark w-100">
                                <div class="card-header">
                                    <span class="card-header-title">Add Books</span>
                                    <div class="float-right">
                                        <button class="btn btn-xs btn-danger" type="button" wire:click="$emit('addSubBooksQnty')">
                                            <i class="fas fa-plus-circle"></i>
                                        </button>
                                        <button class="btn btn-xs btn-danger" type="button" wire:click="$emit('removeSubBooksQnty')">
                                            <i class="fas fa-minus-circle"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body sub_book_card p-0 pt-1 pb-1">
                                    <div class="alert m-0 p-0">
                                        <div class="alert-dark p-3">No books yet. Click <i class="fas fa-plus-circle mr-1"></i> to add some books.</div>
                                    </div>
                                </div>
                                <div class="card-footer pt-0 p-0">
                                    <button type="button" onclick="submitForm()" wire:loading.class="disabled" class="btn btn-sm btn-dark mb-1">
                                        <i class="far fa-hdd mr-2"></i>Save
                                    </button>
                                    <button type="button" onclick="submitForm('clearForm')" class="btn btn-sm btn-dark mb-1">
                                        <i class="fas fa-plus-circle mr-1"></i>Save & Add New Book
                                    </button>
                                    <button class="btn btn-sm btn-danger mb-1" wire:click="clearForm()">
                                        <i class="far fa-trash-alt mr-1"></i>Clear Form
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        
    </div>
</div>